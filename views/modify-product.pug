extends layout

block content
  .container
    h2 
      span.title-emoji ✏️
      span.title-text Modifier le produit
    form.product-form(action=`/modify/${product._id}`, method="POST")
      .form-group
        label(for="society") 🏢 Société :
        input#society(type="text", name="society", value=product.society, required)
      
      .form-group
        label(for="price") 💰 Prix (€) :
        input#price(type="number", step="0.01", name="price", value=product.price, required)
      
      .form-group
        label(for="qty") 📦 Quantité en stock :
        input#qty(type="number", name="qty", value=product.qty, required)
      
      .form-group
        label(for="year") 📅 Année :
        input#year(type="number", name="year", value=product.year, required)
      
      .form-group
        label(for="size_h") 📏 Hauteur :
        input#size_h(type="number", step="0.01", name="size_h", value=product.size.h, required)
      
      .form-group
        label(for="size_w") 📐 Largeur :
        input#size_w(type="number", step="0.01", name="size_w", value=product.size.w, required)
      
      .form-group
        label(for="size_uom") 📏 Unité de mesure :
        select#size_uom(name="size_uom", required)
          option(value="cm", selected=product.size.uom === "cm") Centimètres (cm)
          option(value="in", selected=product.size.uom === "in") Pouces (in)
      
      .form-group
        label
          input(type="checkbox", name="sale", checked=product.sale)
          |  🔥 En promotion
      
      .form-actions
        button.btn.btn-primary(type="submit") 
          span 💾 Sauvegarder les modifications
        a.btn.btn-secondary(href=`/detail/${product._id}`) 
          span ❌ Annuler
        button.btn.btn-danger(type="button", onclick=`deleteProduct('${product._id}')`) 
          span 🗑️ Supprimer le produit

block scripts
  script.
    function deleteProduct(id) {
      if (confirm('Êtes-vous sûr de vouloir supprimer ce produit ?')) {
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `/delete/${id}`;
        document.body.appendChild(form);
        form.submit();
      }
    }

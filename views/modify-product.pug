extends layout

block content
  .container
    h2 
      span.title-emoji âœï¸
      span.title-text Modifier le produit
    form.product-form(action=`/modify/${product._id}`, method="POST")
      .form-group
        label(for="society") ğŸ¢ SociÃ©tÃ© :
        input#society(type="text", name="society", value=product.society, required)
      
      .form-group
        label(for="price") ğŸ’° Prix (â‚¬) :
        input#price(type="number", step="0.01", name="price", value=product.price, required)
      
      .form-group
        label(for="qty") ğŸ“¦ QuantitÃ© en stock :
        input#qty(type="number", name="qty", value=product.qty, required)
      
      .form-group
        label(for="year") ğŸ“… AnnÃ©e :
        input#year(type="number", name="year", value=product.year, required)
      
      .form-group
        label(for="size_h") ğŸ“ Hauteur :
        input#size_h(type="number", step="0.01", name="size_h", value=product.size.h, required)
      
      .form-group
        label(for="size_w") ğŸ“ Largeur :
        input#size_w(type="number", step="0.01", name="size_w", value=product.size.w, required)
      
      .form-group
        label(for="size_uom") ğŸ“ UnitÃ© de mesure :
        select#size_uom(name="size_uom", required)
          option(value="cm", selected=product.size.uom === "cm") CentimÃ¨tres (cm)
          option(value="in", selected=product.size.uom === "in") Pouces (in)
      
      .form-group
        label
          input(type="checkbox", name="sale", checked=product.sale)
          |  ğŸ”¥ En promotion
      
      .form-actions
        button.btn.btn-primary(type="submit") 
          span ğŸ’¾ Sauvegarder les modifications
        a.btn.btn-secondary(href=`/detail/${product._id}`) 
          span âŒ Annuler
        button.btn.btn-danger(type="button", onclick=`deleteProduct('${product._id}')`) 
          span ğŸ—‘ï¸ Supprimer le produit

block scripts
  script.
    function deleteProduct(id) {
      if (confirm('ÃŠtes-vous sÃ»r de vouloir supprimer ce produit ?')) {
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `/delete/${id}`;
        document.body.appendChild(form);
        form.submit();
      }
    }
